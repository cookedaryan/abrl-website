<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RESEARCH</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#000000">
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/research.css">
  <!-- Three.js for Galaxy Background -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
</head>

<body>
  <div id="galaxy-bg"></div>

  <main>
    <div class="landing-header" id="landingHeader">
      RESEARCH
    </div>

    <div class="research-cards-container" id="researchContainer">
      <div class="research-number">RESEARCH-1</div>
      <div class="research-card">
        <div class="research-card-image-wrapper">
          <img loading="lazy" class="research-card-image" src="assets/research/Battery.png" alt="High Energy Rechargeable Batteries">
        </div>
        <div class="research-card-content">
          <div class="research-card-title">HIGH ENERGY RECHARGEABLE BATTERIES</div>
          <div class="research-card-description">
            The aim is to explore the post-Li ion battery chemistries that can surpass the energy limits of the rechageable batteries used today. The high-energy electrode materials, for instance, sodium, magnesium, aluminium and zinc are abundant and low-cost. Through controlling the structural and chemical aspects of the electrode materials, we design novel battery materials, and develop battery prototype. An equal emphasis is given to insigh structure-property relationships through state-of-the art characterization tools.
          </div>
        </div>
      </div>

      <div class="research-number">RESEARCH-2</div>
      <div class="research-card">
        <div class="research-card-image-wrapper">
          <img loading="lazy" class="research-card-image" src="assets/research/dual-ion.png" alt="High Capacity Dual-Ion Batteries">
        </div>
        <div class="research-card-content">
          <div class="research-card-title">HIGH CAPACITY DUAL-ION BATTERIES</div>
          <div class="research-card-description">
            Dual-ion batteries offer various advatages over the tradiation batteries, including high operating voltage, fast-charging behavior, relatively cheaper and enviromentally friendly. However, the sepcific capacity is significantly low, and required to be increased to at least 3-fold to realize its practical applications. In our group we focus on manipulating the surface chemistry of the electrode materials through various routes to boost the specific capacity of Dual-ion batteries without sacrifycing their core attributes.
          </div>
        </div>
      </div>

      <div class="research-number">RESEARCH-3</div>
      <div class="research-card">
        <div class="research-card-image-wrapper">
          <img loading="lazy" class="research-card-image" src="assets/research/supercapacitors.png" alt="HIGH ENERGY SUPERCAPACITORS">
        </div>
        <div class="research-card-content">
          <div class="research-card-title">HIGH ENERGY SUPERCAPACITORS</div>
          <div class="research-card-description">
            Supercapacitors have much higher power density compared to batteries due to their inherent storage mechanism; however, they lack energy density. To enhance the energy density our group focuses on manipulating the structure of the electrode materials through solution synthesis route. While the trnasistion metal oxides are used to enhance the faradic contributions, special types of carbon scaffold are being used to ensure a high electronic conductivity.
          </div>
        </div>
      </div>

      <div class="research-number">RESEARCH-4</div>
      <div class="research-card">
        <div class="research-card-image-wrapper">
          <img loading="lazy" class="research-card-image" src="assets/research/thermoresponsive.png" alt="SOFT MATERIALS FOR ENERGY APPLICATIONS">
        </div>
        <div class="research-card-content">
          <div class="research-card-title">SOFT MATERIALS FOR ENERGY APPLICATIONS</div>
          <div class="research-card-description">
            Energy is the basic need for everything to survive. Similar to energy storage, energy saving through smart materials is equally important. At ABRL, we are involved in developing smart materials for energy saving applications.
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Fade out landing header on scroll
    window.addEventListener('scroll', () => {
      const header = document.getElementById('landingHeader');
      if (window.scrollY > 60) {
        header.classList.add('faded');
      } else {
        header.classList.remove('faded');
      }
    });

    // Fade in research cards container when in viewport
    document.addEventListener('DOMContentLoaded', function() {
      const researchContainer = document.getElementById('researchContainer');
      if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                researchContainer.classList.add('visible');
                observer.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.2 }
        );
        observer.observe(researchContainer);
      } else {
        function checkVisibility() {
          const rect = researchContainer.getBoundingClientRect();
          if (rect.top < window.innerHeight * 0.8) {
            researchContainer.classList.add('visible');
          } else {
            researchContainer.classList.remove('visible');
          }
        }
        window.addEventListener('scroll', checkVisibility);
        window.addEventListener('resize', checkVisibility);
        checkVisibility();
      }
    });

    // 3D Galaxy Starfield
    const bgDiv = document.getElementById('galaxy-bg');
    let renderer, scene, camera, stars, lines;
    function initGalaxy() {
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 1, 2000);
      camera.position.z = 600;

      renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setClearColor(0x000000, 1);
      renderer.setSize(window.innerWidth, window.innerHeight);
      bgDiv.appendChild(renderer.domElement);

      // Stars
      const starCount = 400;
      const positions = [];
      for (let i = 0; i < starCount; i++) {
        const x = (Math.random() - 0.5) * 2000;
        const y = (Math.random() - 0.5) * 2000;
        const z = (Math.random() - 0.5) * 2000;
        positions.push(x, y, z);
      }
      const geometry = new THREE.BufferGeometry();
      geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
      const material = new THREE.PointsMaterial({ color: 0xffffff, size: 2 });
      stars = new THREE.Points(geometry, material);
      scene.add(stars);

      // Lines between stars
      const lineMaterial = new THREE.LineBasicMaterial({ color: 0x44aaff, transparent: true, opacity: 0.22 });
      const lineGeometry = new THREE.BufferGeometry();
      const linePositions = [];
      for (let i = 0; i < starCount; i += 8) {
        const idx1 = i * 3;
        const idx2 = ((i + 1) % starCount) * 3;
        linePositions.push(
          positions[idx1], positions[idx1+1], positions[idx1+2],
          positions[idx2], positions[idx2+1], positions[idx2+2]
        );
      }
      lineGeometry.setAttribute('position', new THREE.Float32BufferAttribute(linePositions, 3));
      lines = new THREE.LineSegments(lineGeometry, lineMaterial);
      scene.add(lines);

      animateGalaxy();
    }

    function animateGalaxy() {
      requestAnimationFrame(animateGalaxy);
      stars.rotation.y += 0.0008;
      lines.rotation.y += 0.0008;
      stars.rotation.x += 0.0003;
      lines.rotation.x += 0.0003;
      renderer.render(scene, camera);
    }

    function onGalaxyResize() {
      if (!renderer || !camera) return;
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    window.addEventListener('resize', onGalaxyResize);
    window.addEventListener('DOMContentLoaded', initGalaxy);
  </script>
</body>
</html>
